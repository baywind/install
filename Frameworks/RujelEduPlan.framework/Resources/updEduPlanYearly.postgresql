-- Schema updates for EduPlanYearly model for postgresql --

-- v4 (1.2) --

ALTER TABLE PL_HOURS
  ADD COLUMN EDU_SECTION smallint NOT NULL DEFAULT -1,
  ADD COLUMN EDU_PROGRAM smallint NOT NULL DEFAULT -1,
  ADD COLUMN GRADE_NUM smallint NOT NULL DEFAULT -1,
  ALTER COLUMN CYCLE_ID drop NOT NULL,
  DROP COLUMN SPEC_CLASS;

CREATE INDEX ON PL_HOURS (EDU_PROGRAM,GRADE_NUM);

INSERT INTO SCHEMA_VERSION (MODEL_NAME,VERSION_NUMBER,VERSION_TITLE)
  VALUES ('EduPlanYearly',4,'1.2');
