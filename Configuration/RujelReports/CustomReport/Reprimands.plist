<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>title</key>
	<string>Замечания</string>
	<key>description</key>
	<string>Замечания к ведению журнала</string>
	<key>entity</key>
	<string>Reprimand</string>
	<key>params</key>
	<array>
		<dict>
			<key>title</key>
			<string>Дата</string>
			<key>hover</key>
			<string>Дата вынесения замечания</string>
			<key>attribute</key>
			<string>raised</string>
			<key>formatter</key>
			<string>date</string>
			<key>fieldSize</key>
			<integer>10</integer>
			<key>qualifierSelector</key>
			<string>&gt;=</string>
			<key>secondSelector</key>
			<string>&lt;</string>
			<key>defaultMax</key>
			<string>$session.today</string>
			<key>defaultMin</key>
			<dict>
				<key>object</key>
				<string>$session.today</string>
				<key>methodName</key>
				<string>timestampByAddingGregorianUnits</string>
				<key>cacheResult</key>
				<true/>
				<key>paramClasses</key>
				<array>
					<string>int</string>
					<string>int</string>
					<string>int</string>
					<string>int</string>
					<string>int</string>
					<string>int</string>
				</array>
				<key>paramValues</key>
				<array>
					<integer>0</integer>
					<integer>0</integer>
					<integer>-7</integer>
					<integer>0</integer>
					<integer>0</integer>
					<integer>0</integer>
				</array>
			</dict>
		</dict>
		<dict>
			<key>title</key>
			<string>Снятие</string>
			<key>hover</key>
			<string>Дата снятия замечания</string>
			<key>attribute</key>
			<string>relief</string>
			<key>formatter</key>
			<string>date</string>
			<key>fieldSize</key>
			<integer>10</integer>
			<key>qualifierSelector</key>
			<string>&gt;=</string>
			<key>secondSelector</key>
			<string>&lt;</string>
			<key>defaultMax</key>
			<string>$session.today</string>
			<key>defaultMin</key>
			<dict>
				<key>object</key>
				<string>$session.today</string>
				<key>methodName</key>
				<string>timestampByAddingGregorianUnits</string>
				<key>cacheResult</key>
				<true/>
				<key>paramClasses</key>
				<array>
					<string>int</string>
					<string>int</string>
					<string>int</string>
					<string>int</string>
					<string>int</string>
					<string>int</string>
				</array>
				<key>paramValues</key>
				<array>
					<integer>0</integer>
					<integer>0</integer>
					<integer>-7</integer>
					<integer>0</integer>
					<integer>0</integer>
					<integer>0</integer>
				</array>
			</dict>
		</dict>
		<dict>
			<key>title</key>
			<string>Не снято</string>
			<key>_attribute</key>
			<string>relief</string>
			<key>qualifierFormat</key>
			<string>relief = nil</string>
			<key>comment</key>
			<string>с пустой датой снятия</string>
		</dict>
		<dict>
			<key>title</key>
			<string>Учитель</string>
			<key>attribute</key>
			<string>teacher</string>
			<key>presenter</key>
			<string>PersonDisplay</string>
			<key>presenterBindings</key>
			<dict>
				<key>person</key>
				<string>.</string>
				<key>last</key>
				<string>2</string>
				<key>first</key>
				<string>1</string>
				<key>second</key>
				<string>1</string>
				<key>valueWhenEmpty</key>
				<string>Выбрать</string>
			</dict>
			<key>popup</key>
			<dict>
				<key>title</key>
				<string>Выберите учителя</string>
				<key>style</key>
				<string>min-width:20em</string>
				<key>presenter</key>
				<string>TeacherSelector</string>
				<key>takeValuesFromRequest</key>
				<true/>
				<key>invokeAction</key>
				<true/>
				<key>presenterBindings</key>
				<dict>
					<key>entity</key>
					<string>Teacher</string>
					<key>firstNameDisplay</key>
					<integer>2</integer>
					<key>secondNameDisplay</key>
					<integer>2</integer>
					<key>selection</key>
					<string>.</string>
					<key>useAjaxPost</key>
					<true/>
				</dict>
			</dict>
			<key>in</key>
			<dict>
				<key>relationship</key>
				<string>course</string>
				<key>args</key>
				<array>
					<string>$session.eduYear</string>
				</array>
				<key>qualifierFormat</key>
				<string>eduYear = %@</string>
			</dict>
		</dict>
		<dict>
			<key>title</key>
			<string>Автор</string>
			<key>hover</key>
			<string>кто вынес замечание</string>
			<key>attribute</key>
			<string>author</string>
			<key>fieldSize</key>
			<integer>20</integer>
			<key>qualifierSelector</key>
			<string>caseInsensitiveLike</string>
			<key>defaultValue</key>
			<string>AutoCheck??</string>
		</dict>
		<dict>
			<key>title</key>
			<string>Автор не</string>
			<key>attribute</key>
			<string>author</string>
			<key>attributeParam</key>
			<string>authorNot</string>
			<key>fieldSize</key>
			<integer>20</integer>
			<key>qualifierSelector</key>
			<string>&lt;&gt;</string>
			<key>formatter</key>
			<false/>
			<key>defaultValue</key>
			<string>PlanFactCheck Daemon</string>
		</dict>
	</array>
	<key>prefetch</key>
	<array>
		<string>course.cycle</string>
	</array>
	<key>properties</key>
	<array>
		<dict>
			<key>title</key>
			<string>Учитель</string>
			<key>keyPath</key>
			<string>course.teacher</string>
			<key>style</key>
			<string>white-space:nowrap;</string>
			<key>presenter</key>
			<string>PersonDisplay</string>
			<key>presenterBindings</key>
			<dict>
				<key>person</key>
				<string>.</string>
				<key>last</key>
				<string>2</string>
				<key>first</key>
				<string>1</string>
				<key>second</key>
				<string>1</string>
			</dict>
			<key>active</key>
			<true/>
			<key>comparison</key>
			<string>CompareAscending</string>
			<key>sort</key>
			<string>30</string>
		</dict>
		<dict>
			<key>title</key>
			<string>Класс</string>
			<key>keyPath</key>
			<string>course.eduGroup</string>
			<key>titlePath</key>
			<string>name</string>
			<key>comparison</key>
			<string>CompareCaseInsensitiveAscending</string>
			<key>active</key>
			<true/>
			<key>sort</key>
			<string>40</string>
		</dict>
		<dict>
			<key>title</key>
			<string>Предмет</string>
			<key>keyPath</key>
			<string>course.cycle.subjectEO</string>
			<key>titlePath</key>
			<string>subject</string>
			<key>comparison</key>
			<string>CompareAscending</string>
			<key>active</key>
			<true/>
			<key>sort</key>
			<string>50</string>
			<key>onclick</key>
			<string>$session.tryLoad</string>
			<key>disabled</key>
			<string>$parent.countList</string>
			<key>nextPage</key>
			<string>LessonNoteEditor</string>
			<key>pageParams</key>
			<dict>
				<key>course</key>
				<string>$itemRow.course</string>
			</dict>
		</dict>
		<dict>
			<key>title</key>
			<string>Комментарий курса</string>
			<key>short</key>
			<string> . </string>
			<key>keyPath</key>
			<string>course</string>
			<key>titlePath</key>
			<string>comment</string>
			<key>active</key>
			<false/>
			<key>comparison</key>
			<string>CompareAscending</string>
			<key>sort</key>
			<string>52</string>
		</dict>
		<dict>
			<key>short</key>
			<string>Дата</string>
			<key>title</key>
			<string>Дата вынесения замечания</string>
			<key>keyPath</key>
			<string>raised</string>
			<key>presenterBindings</key>
			<dict>
				<key>dateformat</key>
				<string>dd.MM.yy  HH:mm</string>
			</dict>
			<key>active</key>
			<true/>
			<key>sort</key>
			<string>10</string>
			<key>comparison</key>
			<string>CompareDescending</string>
		</dict>
		<dict>
			<key>short</key>
			<string>Снято</string>
			<key>title</key>
			<string>Дата снятия замечания</string>
			<key>keyPath</key>
			<string>relief</string>
			<key>presenterBindings</key>
			<dict>
				<key>dateformat</key>
				<string>dd.MM.yy  HH:mm</string>
			</dict>
			<key>active</key>
			<true/>
			<key>sort</key>
			<string>10</string>
			<key>comparison</key>
			<string>CompareDescending</string>
		</dict>
		<dict>
			<key>title</key>
			<string>Текст замечания</string>
			<key>keyPath</key>
			<string>formattedContent</string>
			<key>presenterBindings</key>
			<dict>
				<key>escapeHTML</key>
				<false/>
			</dict>
			<key>active</key>
			<true/>
			<key>onclick</key>
			<string>$session.ajaxPopup</string>
			<key>nextPage</key>
			<string>ReprimList</string>
			<key>pageParams</key>
			<dict>
				<key>course</key>
				<string>$itemRow.course</string>
			</dict>
			<key>popup</key>
			<true/>
			<key>sort</key>
			<string>60</string>
			<key>script</key>
			<string>function editReprimand(cell,ident) {
	if(cell.className == &quot;selection&quot;) {
		cell.className = null;
		returnField = null;
		document.getElementById(&quot;reprimandText&quot;).value = null;
		document.getElementById(&quot;reprimandToEdit&quot;).value = &quot;&quot;;
		document.getElementById(&quot;reprimandSubmit&quot;).value = &quot;Добавить&quot;;
	} else {
		if(returnField &amp;&amp; returnField.className == &quot;selection&quot;)
			returnField.className = &quot;&quot;;
		returnField = cell;
		var ta = document.getElementById(&quot;reprimandText&quot;); 
		if(cell.innerText)
			ta.value = cell.innerText;
		else
			ta.innerHTML = cell.innerHTML;
		ta.rows=Math.max(ta.value.split(&apos;\n&apos;).length,2);
		document.getElementById(&quot;reprimandToEdit&quot;).value = ident;
		document.getElementById(&quot;reprimandSubmit&quot;).value = &quot;Сохранить&quot;;
		cell.className = &quot;selection&quot;; 
	}
}</string>
		</dict>
		<dict>
			<key>title</key>
			<string>Автор</string>
			<key>keyPath</key>
			<string>author</string>
			<key>active</key>
			<true/>
			<key>comparison</key>
			<string>CompareCaseInsensitiveAscending</string>
			<key>sort</key>
			<string>70</string>
		</dict>
		<dict>
			<key>title</key>
			<string>Статус</string>
			<key>keyPath</key>
			<string>status</string>
			<key>active</key>
			<false/>
			<key>sort</key>
			<string>80</string>
		</dict>
	</array>
</dict>
</plist>
